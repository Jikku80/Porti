extends baseCatalouge

block content 
    h1.loader
        img.porti__of__img(src="/images/smalport.png", alt="porti__img")
        span Por
        span.grn t
        span.nocaps i
    if (user)
        if (!company[0])
            .confirm__pg
                h1 You have not created your enterprise! Create one and come back
                a(href="/porti#crtCataloge") Create Enterprise
        else
            include ../_header
            p.hidden.themeUsr= user.theme
            .whole__menu__sec 
                .menu__section
                    if (catalouges.length === 0)
                        h2.banner.up__place__det.form__label You haven't Added Items to your Catalouge, Add Few Items!
                    #item__form
                        .itemform__head 
                            h2.form__label Add Items To Catalouge
                            h2
                                a.form__label(href="#openCatalouge") Catalouge Link
                        form#addCatItem.upItem
                            .form__bod
                                label.form__label(for="item_name") Item Name:
                                input#catitemname.form__input(type="text" required placeholder="Graphite Tile")
                            .form__bod
                                label.form__label(for="item_price") Item Price: 
                                input#catitemprice.form__input(type="text" required placeholder="Rs. 400 per ft / $ 4 per piece")
                            .form__bod
                                label.form__label(for="item_serialno") Item Serial No. (optional): 
                                input#catitemsn.form__input(type="text" placeholder="CA10050")
                            .form__bod
                                label.form__label(for="item_category") Item Category: 
                                input#catitemcat.form__input(type="text", required placeholder="Tiles")
                            .form__bod
                                label.form__label(for="item_subcategory") Item Sub-Category (optional): 
                                input#subcatitemcat.form__input(type="text", placeholder="Japanese Tiles")
                            .form__bod
                                label.form__label(for="item_detail") Item Detail (optional):
                                textarea#catitemdetail.form__input(rows="4" cols="50" placeholder="You can Describe about your Item only if you want to, this field is optional...")
                            .form__bod.file_part
                                label.form__label(for="catcoverimage") Item Image:
                                input#catcoverimage.form__input(type="file" name="catcoverimage" accept="image/*"  required)
                            button#cataddItemBtn.blackbtn Add Item
                    .your__item__sec#CatalogeItemSec
                        h2.items__head Your Items 
                        p.currentuid.hidden= user._id
                        .your__item__bod
                            .your__items.sec__items
                        .paginate 
                            button.prev__catal Previous
                            button.next__catal.hidden Next
                    .share__catalouge#openCatalouge 
                        h2.form__label Share your Catalouge 
                        p.uname__catal.hidden= user.name
                        p.share__catal__link
                    .qrcode__menu 
                        #catalqrcode 
                    .itemform__head 
                        h2.form__label Update Enterprise Detail
                    form#upCompany.upItem
                        .form__bod
                            label.form__label(for="company_name") Company Name:
                            input#compname.form__input(type="text" required value=company[0].name)
                        .form__bod
                            label.form__label(for="company_email") Company Email: 
                            input#compemail.form__input(type="email" required value=company[0].email)
                        .form__bod
                            label.form__label(for="comapny_social_account") Company Social Account Link (optional): 
                            input#compsocial.form__input(type="text" value=company[0].social)
                        .form__bod
                            label.form__label(for="company_address") Company Address: 
                            input#compaddress.form__input(type="text" required value=company[0].Address)
                        .form__bod
                            label.form__label(for="company_address_link") Address Link (optional): 
                            input#complocationLink.form__input(type="text" value=company[0].locationLink)
                        .form__bod
                            label.form__label(for="company_contact") Company Contact: 
                            input#compcontact.form__input(type="text" required value=company[0].contact)
                        .form__bod
                            label.form__label(for="company_slogan") Company Slogan (optional): 
                            input#compslogan.form__input(type="text", value=company[0].slogan)
                        .form__bod
                            label.form__label(for="company_slogan") Company Type: 
                            input#compType.form__input(type="text", value=company[0].compType)
                        .form__bod 
                            label.form__label Change Theme (optional):
                            select#compTheme
                                option.opt(hidden selected)= company[0].theme 
                                each item in theme 
                                    if (item.themeType === 'Free' || item.validCatalogeUser.includes(user.id))
                                        option.opt(value=`${item.themeId}`)= item.name
                        .form__bod 
                            label.form__label(for="company_color") Pick a theme color (optional);
                            input#companyColor.form__input(type="color" value="#1A9ACC")
                        p.comp__len.hidden= company.length
                        if (company.length !== 0)
                            p.comp__id.hidden= company[0]._id
                        else 
                            p.comp__id.hidden
                        button#updateCompBtn.blackbtn Update now

                        //- button#addCompBtn.blackbtn Update
                    if (company.length !== 0)
                        .itemform__head 
                            h2.form__label Update Enterprise Cover Image
                            p.compimg__id.hidden= company[0]._id
                        form#upCompanyImage.upItem
                            .form__bod.file_part
                                label.form__label(for="compcoverimage") Catalouge Cover Image:
                                input#compcoverimage.form__input(type="file" accept="image/*"  required)
                            button#compUpdateImgBtn.blackbtn Update Cover Image
                    else 
                        .compimg__id.hidden
                        #compcoverimage
                        #compUpdateImgBtn
            .to__left
                include ../_footer
    else 
        .confirm__pg
            h1 Please Sign In To Your Account !
            a(href="/login") Sign In
    script(src="/js/alert.js")
    script(src="/js/catalouge/additemtocat.js")
    script(src="/js/catalouge/qrCode.js")

